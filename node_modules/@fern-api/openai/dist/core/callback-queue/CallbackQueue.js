"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CallbackQueue = void 0;
class CallbackQueue {
    queue = Promise.resolve();
    wrap(callback) {
        if (callback == null) {
            return undefined;
        }
        return (...args) => {
            this.queue = this.queue.then(() => {
                return callback(...args);
            });
        };
    }
    toPromise() {
        return this.queue;
    }
}
exports.CallbackQueue = CallbackQueue;
